@using NutriFitWeb.Services
@using Microsoft.AspNetCore.Identity
@model NutriFitWeb.Models.Nutritionist
@inject SignInManager<UserAccountModel> SignInManager
@inject UserManager<UserAccountModel> UserManager

@inject IStatistics Statistics


<div class="text-center">
    <h1 class="display-4">@User.Identity?.Name.ToUpper()</h1>
    <div class="statistics">
        <div class= statisticsCount>
            <p><b class="listsItemTitle homeTitlesFix control-label">Clientes</b><b class="itemsLeftMargin">@Statistics.GetUsersForNutritionist(UserManager.GetUserId(User)).Count()</b></p>
            <br />
            <p><b class="listsItemTitle homeTitlesFix">Ginásio</b><b class="itemsLeftMargin">@await Statistics.GetUserGym(UserManager.GetUserId(User))</b></p>
            <br />
        </div>
        <div class="newUsersDiv">
            <p><b class="listsItemTitle">Clientes mais recentes</b></p>
            @foreach (var item in Statistics.GetUsersForNutritionist(UserManager.GetUserId(User)).Take(3))
            {
                <br />
                <p class="recentClientsGym"><b>@item.UserName.ToUpper()</b></p>
            }
        </div>
    </div>
    <img src="~/images/nutritionBanner.png" alt="nutritionBanner" class="gymHomeImage" />
</div>