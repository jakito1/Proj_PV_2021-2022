@using NutriFitWeb.Services
@using Microsoft.AspNetCore.Identity
@model NutriFitWeb.Models.Gym
@inject SignInManager<UserAccountModel> SignInManager
@inject UserManager<UserAccountModel> UserManager

@inject IGetUsersLists GetUsersLists

@{
    ViewData["Title"] = "Gym Home Page";
}

<div class="text-center">
    <h1 class="display-4">@User.Identity?.Name.ToUpper()</h1>
    <div class="gymStatistics">
        <div class= statisticsCount>
            <p><b class="gymHome">Clientes:  &nbsp; </b><b>@GetUsersLists.GetUsersForGym("client", UserManager.GetUserId(User)).Count()</b></p>
            <p><b class="gymHome">Treinadores:  &nbsp; </b><b>@GetUsersLists.GetUsersForGym("trainer", UserManager.GetUserId(User)).Count()</b></p>
            <p><b class="gymHome">Nutricionistas:  &nbsp; </b><b>@GetUsersLists.GetUsersForGym("nutritionist", UserManager.GetUserId(User)).Count()</b></p>
        </div>
        <div class="newUsersDiv">
            <p><b class="gymHome">Clientes mais recentes:</b></p>
            @foreach (var item in GetUsersLists.GetUsersForGym("client", UserManager.GetUserId(User)).Take(3))
            {
                <p class="recentClientsGym"><b>@item.UserName.ToUpper()</b></p>
            }
        </div>
    </div>
    <img src="~/images/gymHome.jpg" alt="MainPageGymImage" class="gymHomeImage" />
</div>
